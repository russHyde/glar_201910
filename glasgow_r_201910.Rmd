---
title: "Contributing to the R Ecosystem"
subtitle: "Presented to Glasgow R Users Group"
author: "Russ Hyde (tweet : @haematobot; GH : @russHyde)"
date: "10 October 2019"
output:
  ioslides_presentation
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

## Why use R instead of {...}?

![](figures/why_use_r.PNG)

## We all get stuck

Ask actual people:

```{r, echo = FALSE}
getting_stuck_data <- data.frame(
  from = "Ask people",
  to = c(
    "twitter.com", "rfordatasci.com", "stack-overflow", "biostars",
    "github"
  )
)
```

```{r, echo = FALSE}
getting_stuck_plot <- networkD3::simpleNetwork(
  getting_stuck_data,
  height = "600px", width = "600px",
  linkDistance = 100, opacity = 0.9, fontSize = 24, nodeColour = "#499382"
)
```

```{r}
getting_stuck_plot
```

## We all want to improve

Learn new stuff:

- [#TidyTuesday](https://github.com/rfordatascience/tidytuesday)

- [exercism.io](https://www.exercism.io) / [codewars.com](https://codewars.com)

Once your code works, get it improved:

- [codereview.stackexchange](https://codereview.stackexchange.com)

## We can all help each other

- [hacktoberfest]()

- [codetriage]()

- TODO

## Let's do something for the community ...

Jumping Rivers `meetingsR` list:

Website: [https://jumpingrivers.github.io/meetingsR/](https://jumpingrivers.github.io/meetingsR/)

GitHub: [https://github.com/jumpingrivers/meetingsR/](https://github.com/jumpingrivers/meetingsR)

README: [.../blob/master/README.md](https://github.com/jumpingrivers/meetingsR/blob/master/README.md)

## `git` terminology

FORK
- Make me a copy of this repo(sitory) on github

PULL
- Download this repo to my computer

(Make the changes you need)

ADD/COMMIT
- Add these changes to my local copy of this repo

PUSH
- Upload my updated version of this repo to github

PULL REQUEST
- Tell the author of this repo that they can include my changes

## Live section:

- Add "Glasgow R" to the `meetingsR` list using github

- [European User's Groups](https://github.com/jumpingrivers/meetingsR/edit/master/02_useR_groups_europe.Rmd)

## On Open Source Contributions

<span style="color:purple">_Not all contributions are code contributions [... or docs ...]_</span>

<span style="color:purple">...</span>

<span style="color:purple">_Just helping people filter and curate and figure-out what is in a ticket and if it's really important... I can't tell you how useful this is_</span>

Heather C Miller: Interviewed on [CoRecursive](https://corecursive.com/038-heather-miller-open-source/)
podcast (2019-09-15)

## `lintr` and your code

```{r, echo = TRUE}
library(lintr) # lintr 2.0.0; author: Jim Hester
```

```{r}
f <- file.path("temp", "lint_me.R")
cat(
'# Temp file
abc = 123
my.df <- data.frame(x = 1:3, y = rnorm(3))
is_it_a_matrix <- sapply(1:3, function(x) rbinom(x, 10, 0.5))
message("superfluous_semicolon");
',
  file = f
)
```

```{r, code = readLines(f), eval = FALSE, echo = TRUE}
```

```{r, echo = TRUE}
lint(filename = f)
```

## My first `lintr` issue (2017-06-27)

![](figures/first_lintr_issue.png)

## My first `lintr` PR (2018-09-17)

[GitHub](https://github.com/jimhester/lintr/pull/349)

- Accepted 2018-09-18

- Got into CRAN `lintr` Sept 2019

- What happened in between?

(Note : I was really fixing a problem with my package [dupree](https://github.com/russHyde/dupree/))

## Submitting Pull Requests isn't everything

![](figures/collaborate_on_lintr1.png)

![](figures/collaborate_on_lintr2.png)

## A Common Theme:

- One(few) main developers

- Lots of open issues

    - questions, duplicates, bugs, feature requests

    - unlabelled or solved issues

- To help: <span style="color:purple">Curate and Filter</span>

    - label the issues

    - close fixed issues

    - ask for / find a reproducible example

[But uncommon: Few packages, but many package developers, depend on `lintr`)]

## CodeTriage.com

[https://www.codetriage.com/]()

TODO

## Cheers

More about Open-Source Contribution

[Creating a pull request using `git`](https://opensource.com/article/19/7/create-pull-request-github)

[Creating a pull request using R and `usethis`](https://usethis.r-lib.org/articles/articles/pr-functions.html)

[Happy Git With R](https://happygitwithr.com/)

Can OS projects be healthily maintained?

[Open Source Health and Diversity (CoRecursive)](https://corecursive.com/038-heather-miller-open-source/)

[Contributing to Open Source (Talk Python To Me)](https://talkpython.fm/episodes/show/132/contributing-to-open-source)

[Guide to Open Source Maintenance](https://github.com/commercialhaskell/commercialhaskell/blob/master/guide/open-source-maintenance.md)

# Appendix

## Me & R

Experimental things on github (@russHyde)

- [dupree](https://github.com/russHyde/dupree)
    - duplicate code detection (built on `lintr`)

- [polyply](https://github.com/russHyde/polyply)
    - extend dplyr verbs to sets of data-frames

- bioinformatics stuff

Recent contributions to bigger projects

- [lintr](https://github.com/jimhester/lintr)

## Non-default linters

```{r, echo = TRUE}
lint(
  filename = f,
  linters = with_defaults(
    assignment_linter = NULL, # "abc = 123" is fine
    fns = undesirable_function_linter(), # catch `sapply`
    semis = semicolon_terminator_linter()
  )
)
```
